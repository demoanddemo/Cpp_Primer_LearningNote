

[toc]

# <center>变量和基本类型</center>

> 一门计算机语言的基本的语法特征包括：
>
> - 整形、字符型等内置类型
> - 变量，用来为对象命名
> - 表达式和语句，用于操纵上述数据类型的具体值
> - if 或 while 等控制结构，这些结构允许我们有选择地执行一些语句或者重复地执行一些语句
> - 函数，用于定义可供随时调用地计算单元

基本特征就像`原子`,是必要的，若是实现更壮观的操作，要通过两种方式补充：

> - 赋予程序员自定义数据类型的权利实现对语言的扩展
> - 将一些有用的功能封装成库函数提供给程序员



## 2.1 基本内置类型

> 数据类型是程序的基础： 它告诉我们数据的意义以及我们能在数据上执行的操作。
>
> 数据类型决定了程序中数据和操作的意义。
>
> ``` c ++
> i = i + j;
> ```
>
> 该操作依赖于 i 和 j 的数据类型。如果 i 和 j 都是整型数，执行的就是普通的加法运算。

### 2.1.1 算术类型

算术类型分为两类： **整型**（integral type， 包括字符和布尔类型在内）和 **浮点型**。

算术类型的尺寸（该类型数据所占的比特数）在不同机器上有所差别。

| 表2.1： C++： 算术类型                                       | 统计 |      |
| :----------------------------------------------------------- | ---- | ---- |
|                                                              |      |      |
| 类型                                            含义                                               最小尺寸 |      |      |
| bool                                       布尔类型                                             未定义 |      |      |
| char                                       字符                                                      8位 |      |      |
| wchar_t                                  宽字符                                                 16位 |      |      |
| char16_t                                 Unicode 字符                                     16位 |      |      |
| char32_t                                 Unicode字符                                       32位 |      |      |
| short                                       短整型                                                  16位 |      |      |
| int                                            整型                                                      32位 |      |      |
| long                                         长整型                                                   32位 |      |      |
| long long                                 长整型                                                  64位 |      |      |
| float                                         单精度浮点数                                     6位有效数字 |      |      |
| double                                      双精度浮点数                              10位有效数字 |      |      |
| long double                               扩展精度浮点数                           10位有效数字 |      |      |

​                                                                                                                                    

> 如何选择类型
>
> - 当明确知晓数值不可能为负时，选用无符号类型
> - 使用 int 执行整数运算short 太小long和int有一样的尺寸，超过int用long long
> - 算术表达式中不要使用char或bool
> - 浮点数运算用double，float通常精度不够双精度和单精度计算代价相差无几。long double 没必要，运行时消耗不容忽视

### 2.1.2 类型转换

对象的类型定义了对象能包含数据和能参与的运算，其中一种运算被大多数类型支持，就是将对象从一种给定的类型转换为另一种相关类型。

> 当给某种类型的对象强行赋了另一种类型的值时；
>
> 类型所能表示的值的范围决定了转换的过程：
>
> - 当我们把一个非布尔类型的算数值赋给布尔类型时，初始值为0 则结果为false，否则结果为true
> - 当我们把一个布尔值赋给非布尔类型时，初始值时false则结果为0，初始值为true在结果为1
> - 当我们把一个浮点数赋给整数类型时，进行了近似处理。结果将仅保留浮点数中的小数点之前的部分
> - 当我们把一个整数赋给浮点类型时，小数部分记为0.如果该整数的空间超过了浮点数的容量，精度可能有损失
> - 当我们赋给无符号类型一个超出它表示范围的值时, 结果是初始值对无符号类型表述数值总数取模后的玉树。例如，比特大小的 unsigned char 可以表示 0 至 255区间内的值，如果我们赋了一个区间以外的值，则实际的结果是该值对256取模后的余数。因此，把-1赋给8比特大小的unsigned char所得的结果是255.
> - 当我们赋给带符号类型一个超出它表示范围的值时，结果是未定义的。此时，程序可能继续工作，可能崩溃，也可能生成垃圾数据。

**把负数转换为无符号数类似于直接给无符号数赋一个负值，结果等于之歌负数加上无符号数的模**

### 2.1.3 字面值常量

> 字面值常量的形式和值决定了它的数据类型。
>
> 